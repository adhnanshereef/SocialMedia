<div *ngIf="loaded" class="container">
    <mat-card *ngIf="post" class="post">
        <mat-card-header class="post-header">
            <div *ngIf="post.user.profile_pic" class="profile-pic">
                <img mat-card-avatar [src]="backend_url + post.user.profile_pic"
                    alt="{{post.user.name}}'s Profile Picture">
            </div>
            <mat-card-title>{{post.user.username}}</mat-card-title>
            <mat-card-subtitle>{{post.user.name}}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
            <p>Created {{post.created | date}}</p>
            <h1>{{post.title}}</h1>
            <p>{{post.content}}</p>
            <a [routerLink]="'post/'+ post.id" *ngIf="post.photo" class="post-photo">
                <img mat-card-image [src]="backend_url + post.photo" alt="{{post.title}}" width="100%">
            </a>
        </mat-card-content>
        <mat-card-actions>
            <button mat-button (click)="likePost()"> <mat-icon>thumb_up_alt</mat-icon> {{post.likes.length}}
                Likes</button>
            <button mat-button> <mat-icon>sms</mat-icon> {{post.comments}} Comments</button>
            <button mat-button> <mat-icon>share</mat-icon> {{post.shares.length}} Shares</button>
            <button mat-button> <mat-icon>people</mat-icon> {{post.views}} Views</button>
            <button mat-button *ngIf="user?.username == post.user.username" (click)="deletePost()" > <mat-icon>delete</mat-icon> Delete </button>
        </mat-card-actions>
    </mat-card>
    <div *ngIf=" !post">
                <h1>No Post Found!</h1>
</div>
</div>
<div class="loading" *ngIf="!loaded">
    <div class="loader"></div>
</div>