<div class="container" *ngIf="exist">
    <div class="profile-card" *ngIf="user">
        <mat-card class="mat-card">
            <mat-card-header>
                <div mat-card-avatar class="profile-pic">
                    <img [src]="backendUrl + user.profile_pic" [alt]="user.name + ' profile picture.'" width="100px"
                        height="100px">
                </div>
                <mat-card-title>{{user.name}}</mat-card-title>
                <mat-card-subtitle>@{{user.username}}</mat-card-subtitle>
                <button mat-raised-button (click)="follow()"><span *ngIf="followed">Unfollow</span><span *ngIf="!followed">Follow</span></button>
            </mat-card-header>
            <mat-card-content>
                <p>{{user.bio}}</p>
                <div class="stats">
                    <div (click)="showFollowers()" class="stat">
                        <mat-icon>people_alt</mat-icon>
                        <span>{{user.followers}}</span>
                        <span>Followers</span>
                    </div>
                    <div (click)="showFollowing()" class="stat">
                        <mat-icon>person_add_alt_1</mat-icon>
                        <span>{{user.following}}</span>
                        <span>Following</span>
                    </div>
                    <div class="stat">
                        <mat-icon>event_note</mat-icon>
                        <span>Joined</span>
                        <span>{{user.joined | date }}</span>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
    <div class="loading" *ngIf="!user">
        <div class="loader"></div>
    </div>
</div>
<div class="not-found" *ngIf="!exist">
    <p>User does not exist.</p>
</div>

<div *ngIf="show == 'followers'">
    <h3>Followers</h3>
    <div *ngIf="followers">
        <ul *ngFor="let follower of followers">
            <li>{{follower.username}}</li>
            <li>{{follower.name}}</li>
            <img src="{{backendUrl}}{{follower.profile_pic}}" alt="">
        </ul>
    </div>
    <div class="loading" *ngIf="!followers">
        <div class="loader"></div>
    </div>
    <p *ngIf="followers?.length == 0">No followings</p>
</div>
<div *ngIf="show == 'following'">
    <h3>Following</h3>
    <div *ngIf="following">
        <ul *ngFor="let following of following">
            <li>{{following.username}}</li>
            <li>{{following.name}}</li>
            <img width="100px" src="{{backendUrl}}{{following.profile_pic}}" alt="">
        </ul>
    </div>
    <div class="loading" *ngIf="!following">
        <div class="loader"></div>
    </div>
    <p *ngIf="following?.length == 0">No followings</p>
</div>